{"ast":null,"code":"import _slicedToArray from\"C:/Users/markl/Desktop/Dojo_Assignments/Exams/Mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatePet=function UpdatePet(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];useEffect(function(){axios.get('http://localhost:8000/api/pet/'+props.id).then(function(res){setName(res.data.pets.name);setType(res.data.pets.type);setDescription(res.data.pets.description);setSkill1(res.data.pets.skill1);setSkill2(res.data.pets.skill2);setSkill3(res.data.pets.skill3);});},[]);var updatePet=function updatePet(e){e.preventDefault();if(name.length>3&&type.length>3&&description.length>3){axios.put('http://localhost:8000/api/edit/'+props.id,{name:name}).then(function(res){return console.log(res);});navigate('/');}else{setErrors('Name, Type and Description must be at least 3 characters long');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Home\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit  \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,children:[errors,/*#__PURE__*/_jsx(\"label\",{children:\"Pet Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:type,onChange:function onChange(e){return setType(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:skill1,onChange:function onChange(e){return setSkill1(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:skill2,onChange:function onChange(e){return setSkill2(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:skill3,onChange:function onChange(e){return setSkill3(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Pet\"})]})]});};export default UpdatePet;","map":{"version":3,"sources":["C:/Users/markl/Desktop/Dojo_Assignments/exams/mern/client/src/components/updatepet.js"],"names":["React","useEffect","useState","Link","navigate","axios","UpdatePet","props","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","get","id","then","res","data","pets","updatePet","e","preventDefault","length","put","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Link, navigate} from '@reach/router'\r\nimport axios from 'axios'\r\nconst UpdatePet = props =>{\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [skill1, setSkill1] = useState('');\r\n    const [skill2, setSkill2] = useState('');\r\n    const [skill3, setSkill3] = useState('');\r\n    const [errors, setErrors] = useState('');\r\n\r\n    useEffect(() =>{\r\n        axios.get('http://localhost:8000/api/pet/' + props.id)\r\n            .then(res =>{\r\n                setName(res.data.pets.name)\r\n                setType(res.data.pets.type)\r\n                setDescription(res.data.pets.description)\r\n                setSkill1(res.data.pets.skill1)\r\n                setSkill2(res.data.pets.skill2)\r\n                setSkill3(res.data.pets.skill3)\r\n            })\r\n    }, [])\r\n\r\n    const updatePet = e =>{\r\n        e.preventDefault();\r\n        if(name.length > 3 && type.length > 3 && description.length > 3){    \r\n            axios.put('http://localhost:8000/api/edit/' + props.id,{\r\n                name\r\n            })\r\n                .then(res => console.log(res))\r\n            navigate('/')\r\n        }\r\n        else{\r\n            setErrors('Name, Type and Description must be at least 3 characters long')\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Pet Shelter</h1>\r\n            <Link to='/'>Back to Home</Link>\r\n            <h3>Edit  </h3>\r\n            <form onSubmit={updatePet}>\r\n                {errors}\r\n                <label>Pet Name:</label>\r\n                <input type='text' value={name} onChange={(e) => setName(e.target.value)}/>\r\n                <label>Pet Type:</label>\r\n                <input type='text' value={type} onChange={(e) => setType(e.target.value)}/>\r\n                <label>Description:</label>\r\n                <input type='text' value={description} onChange={(e) => setDescription(e.target.value)}/>\r\n                <label>Skill :</label>\r\n                <input type='text' value={skill1} onChange={(e) => setSkill1(e.target.value)}/>\r\n                <label>Skill :</label>\r\n                <input type='text' value={skill2} onChange={(e) => setSkill2(e.target.value)}/>\r\n                <label>Skill :</label>\r\n                <input type='text' value={skill3} onChange={(e) => setSkill3(e.target.value)}/>\r\n                <button type='submit'>Update Pet</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default UpdatePet"]},"metadata":{},"sourceType":"module"}